#!/bin/bash

# Compile the program
gcc -g -o fs 01_fs.c -m32 -fno-builtin -z execstack -fno-stack-protector \
-no-pie -fno-pie -mpreferred-stack-boundary=2

# Run the program with standard input
echo -e "The program with standard input: 7CCSONSE"
./fs 7CCSONSE

# Run the program with dangerous input
echo -e "\nThe program with dangerous input: AAAA\$(python3 -c 'print(\"%02x.\"*10)')"
./fs AAAA$(python3 -c 'print("%02x."*10)')

# Run the program with more dnagerous input
echo -e "\nThe program with more dangerous input: 'AAAA.%1$x'"
./fs 'AAAA.%1$x'

# Remove the binary file
rm ./fs

