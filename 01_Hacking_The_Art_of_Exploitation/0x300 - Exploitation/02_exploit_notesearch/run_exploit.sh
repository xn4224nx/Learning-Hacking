#!/bin/bash
# Run the exploit for the notesearch script

# Compile the needed C scripts
gcc -o exploit_notesearch exploit_notesearch.c 1> /dev/null 2> /dev/null
gcc -o notesearch notesearch.c hacking.c 1> /dev/null 2> /dev/null
gcc -o notetaker notetaker.c hacking.c 1> /dev/null 2> /dev/null

# Write a note 
sudo ./notetaker "This is a test note"

# Run the exploit
sudo ./exploit_notesearch

# Remove the compiled files
rm exploit_notesearch notesearch notetaker

