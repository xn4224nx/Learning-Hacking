#include <stdio.h>
#include <time.h>

int main(int argc, char **argv)
{
    long int sec_since_epoch;
    struct tm current_time, *time_ptr;
    int hour, minute, second, day, month, year;
    
    sec_since_epoch = time(0);
    printf("Seconds since UNIX epoch: %ld\n", sec_since_epoch);
    
    time_ptr = &current_time;
    localtime_r(&sec_since_epoch, time_ptr);
    
    /* Different ways to access the stuct elements. */
    hour = current_time.tm_hour;
    minute = time_ptr -> tm_min;
    second = *((int *) &current_time);
    
    day = current_time.tm_mday;
    month = current_time.tm_mon;
    year = current_time.tm_year;
    
    printf("Current time is: %02d:%02d:%02d\n", hour, minute, second);
    printf("Current date is: %02d/%02d/%04d\n", day, month+1, year+1900);
    
    return 0;
}
