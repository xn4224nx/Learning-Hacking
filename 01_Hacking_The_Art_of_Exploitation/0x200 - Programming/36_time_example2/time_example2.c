#include <stdio.h>
#include <time.h>

void dump_time_struct_bytes(struct tm *time_ptr, int size) {

    unsigned char *raw_ptr;
    
    printf("Bytes of struct located at 0x%08x\n", time_ptr);
    raw_ptr = (unsigned char *) time_ptr;
    
    for(int i=0; i<size; i++) {
    
        printf("%02x ", raw_ptr[i]);
        
        /* Print a newline every 16 bytes. */
        if(i%16 == 15) printf("\n");
    }
    printf("\n");
}

int main(int argc, char **argv) {
    
    long int sec_since_epoch;
    struct tm current_time, *time_ptr;
    int hour, minute, second, *int_ptr;
    
    sec_since_epoch = time(0);
    
    time_ptr = &current_time;
    localtime_r(&sec_since_epoch, time_ptr);
    
    dump_time_struct_bytes(time_ptr, sizeof(struct tm));
    minute = hour = 0;
    int_ptr = (int *) time_ptr;
    
    for(int i=0; i < 3; i++) {
    
        printf("int_ptr @ 0x%08x : %d\n", int_ptr, *int_ptr);
        int_ptr++;
    }
    
    return 0;
}
